= chartpress
:doctype: article
:description: A powerful Helm chart templater tool
:toc: macro
:toclevels: 3
:toc: preamble
:imagesdir: docs/
ifdef::env-github[]
:tip-caption: :rocket:
:!showtitle:
:icons: font



++++
<p align="center">
  <img width="275" height="275" src="docs/logo3.png">
</p>
<p align="center">
        <p align="center">
  <img height=20 src="https://img.shields.io/badge/github%20actions-%232671E5.svg?style=for-the-badge&logo=githubactions&logoColor=white">
  <img height=20 src="https://img.shields.io/badge/Linux-FCC624?style=for-the-badge&logo=linux&logoColor=black">
  <img height=20 src="https://img.shields.io/badge/shell_script-%23121011.svg?style=for-the-badge&logo=gnu-bash&logoColor=white">
</p>
++++

toc::[]




== Features

- **Automated Chart Generation**: Simplifies the creation of Helm umbrella charts and subcharts.
- **Dynamic Configuration**: Generate charts based on JSON or YAML configurations.
- **Lightweight and Fast**: Written in Go for efficiency and speed.
- **Extensible**: Easily customizable to your specific needs.

== Usage

=== Generating Charts

You can generate Helm charts using the HTTP server or directly via the command-line tool.


[source,yaml]
----
umbrellaChartName: saas-platform
subcharts:
  - name: api
    workload: deployment
  - name: job-runner
    workload: deployment
  - name: database
    workload: statefulset
----

==== Using the HTTP Server

Start the server:

	./chartpress server

Send a POST request to generate a chart:

	curl -X POST http://localhost:8080/generate \
	  -H "Content-Type: application/json" \
	  --data-binary @chartpress.json

==== Using the CLI

Generate a chart from a configuration file:

	./chartpress generate --config chartpress.yaml

== Project Structure

- `main.go`: Entry point for the application and HTTP server.
- `cmd/`: Contains CLI commands.
- `templates/`: Contains Helm chart templates.
  - `templates/subchart/`: Templates for subcharts.
- `chart/`: Documentation and example configurations.
- `docs/`: Project documentation and assets.

== API Endpoints

=== POST `/generate`

- **Request**:
  - **Method**: POST
  - **Content-Type**: application/json
  - **Body**:
+
[source,json]
----
{
  "umbrellaChartName": "my-umbrella",
  "subcharts": [
    {
      "name": "subchart1",
      "workload": "deployment"
    },
    {
      "name": "subchart2",
      "workload": "statefulset"
    }
  ]
}
----

- **Response**:
  - `200 OK`: Returns the location of the generated chart.
  - `4XX`: Returns an error message.

== Contributing

1. Fork the repository.
2. Create a new branch: `git checkout -b my-feature`.
3. Make your changes.
4. Test your changes.
5. Submit a pull request.

== License

This project is licensed under the MIT License. See the LICENSE file for details.

== Acknowledgments

Thanks to all contributors and the open-source community for making this project possible.
